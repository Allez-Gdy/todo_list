"use strict";var e=require("../common/vendor.js");e.axios.create({baseURL:"http://localhost:3300/"}).interceptors.request.use((t=>{let o=localStorage.getItem("todo-token");if(o)t.headers.authorization=o;else{let o=t.url.split("/"),r=o[o.length-2],l=o[o.length-1];"email"===r||"file"===r||"login"===l||"register"===l?console.log("允许不携带token通过路由"):e.index.navigateTo({url:"/pages/login/login"})}return t}),(e=>Promise.reject(e)));
